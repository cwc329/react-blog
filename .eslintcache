[{"/Users/chenwencheng/Documents/practice/react-blog/src/App.js":"1","/Users/chenwencheng/Documents/practice/react-blog/src/pages/Posts.js":"2","/Users/chenwencheng/Documents/practice/react-blog/src/WebAPI.js":"3","/Users/chenwencheng/Documents/practice/react-blog/src/components/Navbar.js":"4","/Users/chenwencheng/Documents/practice/react-blog/src/pages/Register.js":"5","/Users/chenwencheng/Documents/practice/react-blog/src/pages/Login.js":"6","/Users/chenwencheng/Documents/practice/react-blog/src/useInput.js":"7","/Users/chenwencheng/Documents/practice/react-blog/src/components/Input.js":"8","/Users/chenwencheng/Documents/practice/react-blog/src/components/PostsList.js":"9","/Users/chenwencheng/Documents/practice/react-blog/src/components/SinglePost.js":"10","/Users/chenwencheng/Documents/practice/react-blog/src/components/Pagination.js":"11","/Users/chenwencheng/Documents/practice/react-blog/src/utils.js":"12","/Users/chenwencheng/Documents/practice/react-blog/src/useAuthorization.js":"13","/Users/chenwencheng/Documents/practice/react-blog/src/pages/AddPost.js":"14","/Users/chenwencheng/Documents/practice/react-blog/src/pages/Home.js":"15"},{"size":1675,"mtime":1607231038532,"results":"16","hashOfConfig":"17"},{"size":533,"mtime":1607247355739,"results":"18","hashOfConfig":"17"},{"size":1983,"mtime":1607196898800,"results":"19","hashOfConfig":"17"},{"size":1899,"mtime":1607231704228,"results":"20","hashOfConfig":"17"},{"size":2728,"mtime":1607242537458,"results":"21","hashOfConfig":"17"},{"size":2559,"mtime":1607242409073,"results":"22","hashOfConfig":"17"},{"size":866,"mtime":1607069979910,"results":"23","hashOfConfig":"17"},{"size":1272,"mtime":1607246830810,"results":"24","hashOfConfig":"17"},{"size":1464,"mtime":1607247200963,"results":"25","hashOfConfig":"17"},{"size":776,"mtime":1607239290629,"results":"26","hashOfConfig":"17"},{"size":1507,"mtime":1607242593395,"results":"27","hashOfConfig":"17"},{"size":314,"mtime":1607179864561,"results":"28","hashOfConfig":"17"},{"size":399,"mtime":1607182537475,"results":"29","hashOfConfig":"17"},{"size":2026,"mtime":1607247297653,"results":"30","hashOfConfig":"17"},{"size":117,"mtime":1607247311210,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ardgv0",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/chenwencheng/Documents/practice/react-blog/src/App.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/pages/Posts.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/WebAPI.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/components/Navbar.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/pages/Register.js",["64"],"import { useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { getUserData, register } from '../WebAPI';\nimport { UserContext } from '../context';\nimport useInput from '../useInput';\nimport Input from '../components/Input';\n\nconst StyledForm = styled.form`\n  margin: 0 auto;\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nexport default function Register() {\n  \n  const {\n    errorMessage,\n    setErrorMessage,\n    inputs,\n    setInputs,\n    handleChange,\n    handleValidationCheck\n  } = useInput();\n  const history = useHistory();\n  const { user, setUser } = useContext(UserContext);\n\n  useEffect(() => {\n    const formInputs = [\n      {\n        attributes: {\n          type: 'text',\n          name: 'username',\n          value: '',\n          required: true\n        },\n        title: '帳號'\n      },\n      {\n        attributes: {\n          type: 'text',\n          name: 'nickname',\n          value: '',\n          required: true\n        },\n        title: '暱稱'\n      },\n      {\n        attributes:\n        {\n          type: 'password',\n          name: 'password',\n          value: '',\n          required: true\n        },\n        title: '密碼'\n      },\n      {\n        attributes:\n        {\n          type: 'submit',\n          name: 'submit',\n          value: '註冊'\n        },\n        title: ''\n      },\n    ]\n    setInputs(formInputs);\n  }, [setInputs]);\n\n  useEffect(() => {\n    if (user) {\n      history.push('/');\n    }\n  }, []);\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    const filters = ['username', 'password', 'nickname'];\n    const registerInformation = {};\n    inputs.forEach(input => {\n      for (const filter of filters) {\n        if (filter === input.attributes.name) {\n          registerInformation[filter] = input.attributes.value\n        }\n      }\n    })\n    try {\n      const response = await register(registerInformation);\n      const { ok, token } = response;\n      if (ok !== 1) {\n        setErrorMessage(response.message);\n        return;\n      }\n      window.localStorage.setItem('token', response.token);\n      getUserData({ token })\n        .then(data => {\n          setUser(data);\n        })\n      history.push('/');\n    } catch (error) {\n      alert(error);\n    }\n  }\n\n  return (\n    <div>\n      <StyledForm onSubmit={handleRegister}>\n        {inputs.map(input => {\n          return (\n            <Input key={input.attributes.name} input={input} handleChange={handleChange} handleValidationCheck={handleValidationCheck} />\n          )\n        })}\n      </StyledForm>\n      <div><p>{errorMessage}</p></div>\n    </div>\n  )\n}",["65","66"],"/Users/chenwencheng/Documents/practice/react-blog/src/pages/Login.js",["67"],"/Users/chenwencheng/Documents/practice/react-blog/src/useInput.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/components/Input.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/components/PostsList.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/components/SinglePost.js",["68"],"/Users/chenwencheng/Documents/practice/react-blog/src/components/Pagination.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/utils.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/useAuthorization.js",["69"],"/Users/chenwencheng/Documents/practice/react-blog/src/pages/AddPost.js",[],"/Users/chenwencheng/Documents/practice/react-blog/src/pages/Home.js",[],{"ruleId":"70","severity":1,"message":"71","line":78,"column":6,"nodeType":"72","endLine":78,"endColumn":8,"suggestions":"73"},{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"70","severity":1,"message":"71","line":69,"column":6,"nodeType":"72","endLine":69,"endColumn":8,"suggestions":"78"},{"ruleId":"70","severity":1,"message":"79","line":21,"column":6,"nodeType":"72","endLine":21,"endColumn":8,"suggestions":"80"},{"ruleId":"70","severity":1,"message":"71","line":14,"column":6,"nodeType":"72","endLine":14,"endColumn":8,"suggestions":"81"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'user'. Either include them or remove the dependency array.","ArrayExpression",["82"],"no-native-reassign",["83"],"no-negated-in-lhs",["84"],["85"],"React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["86"],["87"],{"desc":"88","fix":"89"},"no-global-assign","no-unsafe-negation",{"desc":"88","fix":"90"},{"desc":"91","fix":"92"},{"desc":"88","fix":"93"},"Update the dependencies array to be: [history, user]",{"range":"94","text":"95"},{"range":"96","text":"95"},"Update the dependencies array to be: [id]",{"range":"97","text":"98"},{"range":"99","text":"95"},[1567,1569],"[history, user]",[1393,1395],[592,594],"[id]",[342,344]]